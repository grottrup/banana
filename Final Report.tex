\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[table]{xcolor}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{imakeidx}
\usepackage{imakeidx}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{outlines}
\usepackage{forloop}
\usepackage{pgfgantt}
\usepackage{comment}
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor,colortbl}

\renewcommand{\labelitemi}{\textbullet}
\renewcommand{\labelitemii}{\textbullet}

\makeindex[name=Alphabetical,title={Alphabetical Index},columns=1]
\makeindex[name=Functions,title={Index of Functions},columns=1]

\newcounter{loopcntr}
\newcommand{\rpt}[2][1]{%
  \forloop{loopcntr}{0}{\value{loopcntr}<#1}{#2}%
}
\newcommand{\on}[1][1]{
  \forloop{loopcntr}{0}{\value{loopcntr}<#1}{&\cellcolor{gray}}
}
\newcommand{\off}[1][1]{
  \forloop{loopcntr}{0}{\value{loopcntr}<#1}{&}
}
\begin{comment}
- Introduction
- Glossary
- Setup
- Product description
    - Final product
    - Pre vs Post Product
    - Deviations from requirements
- Software process discussion
    - Our process
    - Discussion of alternatives
- Software reuse 
- Testing
    - White box & Black box
    - Deviations from tests
- Other deviations
    - Deviations in time
    - Deviations from process
    - Reasons and performed actions
- Work distribution 

\end{comment}

\title{Final Report - Softwareteknologi} % Sets article title
\author{Artin Ghalamkary - (AU677595) \and Karsten Bak Malle - (AU644054) \and Nikita Svanholm AlsÃ¸er - (AU639436) \and Phillip Ravn Boe Jensen - (AU681033)}% Sets authors name
\date{20-12-2021}

\begin{document}

\maketitle

\section*{Introduction} \index[Alphabetical]{Introduction}
The purpose of the final report is to go through the essentials of the email client project, as well as to give an overview of the ideal product, and the achieved product. The report will consist of sections such as the product description, that compares the requirements set at the beginning of the project and the requirements achieved at the end of the project. Other sections will cover the different types of deviations, where we will go in depth with the reasons behind the deviations and also our thoughts on the project. 
\newpage
\section*{Setup}\index[Alphabetical]{User requirements definition}
Follow these steps to setup the mail client. Also check the readme file (important for login information).
\newline
\subsection*{For the first client (main client):}
\begin{enumerate}
    \item Clone github and navigate to src/django\_project to find relevant code:
    \begin{itemize}
        \item https://github.com/grottrup/banana
    \end{itemize}
    \item Cd into it:
    \begin{itemize}
        \item cd my\_django\_project (src/django\_project/)
    \end{itemize}
    \item Create a venv(virtual environment):
    \begin{itemize}
        \item python3 -m venv venv
    \end{itemize}
    \item Activate venv:
    \begin{itemize}
        \item Mac/Linux: source venv/bin/activate
        \item Windows - bash: source venv/Scripts/activate
        \item Windows - cmd: venv\textbackslash{}Scripts\textbackslash{}activate.bat
        \item Windows - PowerShell: venv\textbackslash{}Scripts\textbackslash{}activate.ps1
    \end{itemize}
    \item Install requirements:
    \begin{itemize}
        \item pip install -r requirements.txt
    \end{itemize}
    \item Create DB (Database):
    \begin{itemize}
        \item python manage.py makemigrations
    \end{itemize}
    \item Apply DB changes:
    \begin{itemize}
        \item python manage.py migrate
    \end{itemize}
    \item Run the server:
    \begin{itemize}
        \item python manage.py runserver
    \end{itemize}
    \item Navigate to the site \href{http://127.0.0.1:8000}{\underline{here}}
\end{enumerate}
\newpage
\subsection*{For the second client:}
\begin{itemize}
    \item \textbf{Virtual environment: }

    \begin{enumerate}
        \item First cd into django\_project folder and setup a virtual environment by and running the following:

            
        \begin{itemize}
            \item cd django\_project
            \item  python -m venv venv
        \end{itemize}

        \item Activate virtual environment:   
        \begin{table}[h]
            \begin{tabular}{|l|l|l|ll}
            \cline{1-3}
            \textbf{Platform} & \textbf{Shell} & \textbf{Command to activate virtual environment}        &     &  \\ \cline{1-3}
            Mac/Linux         & bash           & source venv/bin/activate                                &  &  \\ \cline{1-3}
            Windows           & cmd.exe        & venv\textbackslash{}Scripts\textbackslash{}activate.bat &  &  \\ \cline{1-3}
                          & PowerShell     & venv\textbackslash{}Scripts\textbackslash{}activate.ps1 &  &  \\ \cline{1-3}
            \end{tabular}
        \end{table}
    \end{enumerate}                                           
            
    
    \item \textbf{Requirements: } 
    \begin{enumerate}
        \item Install the latest Python 3.
        Then run the following to install the required Python packages.
        
        \begin{itemize}
        \item pip install -r requirements.txt
        \end{itemize}

    \end{enumerate}
    
    \item \textbf{Make database migrations: } 
    \begin{enumerate}
        \item Cd into mail\_client
        
        \begin{itemize}
        \item cd mail\_client
        \end{itemize}
        
        \item And run following:
        
        \begin{itemize}
        \item python manage.py makemigrations django\_mailbox 
        \item python manage.py makemigrations mail
        \item python manage.py migrate
        \end{itemize}

    \end{enumerate}
    \item \textbf{Configure your google email client: } 
    \begin{enumerate}
        \item Create a google account if you do not already have one.
        \item Generate your App password see how her: \url{https://developers.decoded.africa/index.php/2021/05/10/using-gmail-as-an-email-client-for-your-django-web-app/}
        And here: \url{https://support.google.com/mail/answer/185833?hl=en-GB}
        
        \item Open the json file named "config.json" inside the django\_project folder.
        \item Insert the credentials in the json file.

    \end{enumerate}
    \item \textbf{Create a Admin user: } 
    \begin{enumerate}
        \item To create an admin user cd to mail\_client, if you are not already directed to the folder
        and run following:
        
        \begin{itemize}
        \item cd mail\_client
        
        \item python manage.py createsuperuser
        
        \item {YourEmail}@gmail.com
        
        \item password to {YourEmail}@gmail.com
        
        \item password to BananaMail App
        
        \item Repeat password to BananaMail App
        
        \item python manage.py runserver
        \end{itemize}
        
        \item Now you can go to \url{http://127.0.0.1:8000/}, and login to BananaMail

    \end{enumerate}
\end{itemize}

\newpage

\section*{Product description}\index[Alphabetical]{Product description}

\subsection*{Final Product}\index [Alphabetical]{Final Product}
The final product dubbed The Banana Client is a web-based email client. The final product has been divided into two functional products, where each has its own limited functionalities. More detail on this, see section \hyperref[sec:deviations]{"Other Deviations"}.

\subsection*{Ideal product vs Actual product}\index[Alphabetical]{Ideal product vs Actual product}
The list below in the different tables is the requirements for both the ideal- and actual product. The table for the ideal products requirements is the requirements we specified in the System-requirements report. The table for the actual product requirements is the we management to reach in terms of actualization.

\definecolor{cornflowerblue}{rgb}{0.39, 0.58, 0.93}

\vspace{5 mm}
\begin{table}[h] 
\hspace{10pt}
\begin{tabular}{|l|c|c|} 
\hline
\multicolumn{3}{|c|}{User requirements}                                                                                                                                                                                                                                                                                                                                                                                                         \\ 
\hline
ID                                                      & Ideal product                                                                                                                                                                                                           & Actual product                                                                                                                                              \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\\\\\1. \\\\\\\end{tabular} & \begin{tabular}[c]{@{}c@{}}Mail client should be able to \\display, send, and receive\\emails as well as let the user \\be able to reply and forward \\the emails receive through \\the selected server.\\\end{tabular} & \begin{tabular}[c]{@{}c@{}}The Banana Client can display,\\~send and receive emails\\but the reply and forward \\functionality does not work.\end{tabular}  \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\\\2. \\\\\end{tabular}     & \begin{tabular}[c]{@{}c@{}}Mail client should provide the \\user the opportunity to \\login to their personal email.\end{tabular}                                                                                       & \begin{tabular}[c]{@{}c@{}}The user can login to their \\personal email using \\the Banana Client.\end{tabular}                                             \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\3. \\\end{tabular}         & \begin{tabular}[c]{@{}c@{}}The user should be able to \\blacklist any emails.\end{tabular}                                                                                                                              & \begin{tabular}[c]{@{}c@{}}The user can't blacklist \\any emails.\end{tabular}                                                                              \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\\\4. \\\\\end{tabular}     & \begin{tabular}[c]{@{}c@{}}The user should be able to \\login to multiple emails \\at the same time.\end{tabular}                                                                                                       & \begin{tabular}[c]{@{}c@{}}The user can login to multiple \\emails as the same time.\end{tabular}                                                           \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\5. \\\end{tabular}         & \begin{tabular}[c]{@{}c@{}}The user should be able to \\delete any email.\end{tabular}                                                                                                                                  & The user can delete any emails.                                                                                                                             \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\6. \\\end{tabular}         & \begin{tabular}[c]{@{}c@{}}The user should be able to \\mark emails as read/unread.\end{tabular}                                                                                                                        & \begin{tabular}[c]{@{}c@{}}The user can't mark emails \\as read/unread.\end{tabular}                                                                        \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\7. \\\end{tabular}         & \begin{tabular}[c]{@{}c@{}}The user should be able to \\attach files and pictures to \\their emails.\end{tabular}                                                                                                       & \begin{tabular}[c]{@{}c@{}}The user can attach files and \\pictures to their emails.\end{tabular}                                                           \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\8. \\\end{tabular}         & \begin{tabular}[c]{@{}c@{}}The user should be able to \\compose an email.\end{tabular}                                                                                                                                  & The user can compose an email.                                                                                                                              \\ 
\hline
\begin{tabular}[c]{@{}l@{}}\\9.\\\end{tabular}          & New requirement.                                                                                                                                                                                                        & \begin{tabular}[c]{@{}c@{}}The user can create events \\using the calendar functionality\end{tabular}                                                       \\
\hline
\end{tabular}
\end{table}

\newpage

\subsection*{Deviations from requirements}\index[Alphabetical]{Deviations from requirements}
The following section describes the deviation from the tables above. However, thecause of the deviations will be discussed later in the section \hyperref[sec:deviations]{"Other Deviations"}. The numeration below also corresponds to the requirements id from the tables above.
\begin{enumerate}
    \item \textit{Fully functional - }\textbf{Send}. 
    \newline \textit{Limited functionality - }\textbf{Display \& Receive emails: } The functions are limited in the sense that you can only display and receive emails by logging in with an admin account, AND by accessing the admin panel. (http://127.0.0.0.1:8000/admin).
    \newline \textit{Not functional - }\textbf{Reply \& Forward}.
    
    \item  \textit{Limited functionality - }\textbf{Login to personal email: }\textbf{IMPORTANT!!!} The function does work but to get your personal inbox the functionality will empty your inbox from your personal mail client to do so. Therefore we advise the user \textbf{NOT} to do so currently. This is because of the way the client-function of fetching emails works, because it transfers the emails from their respective email clients and folders, over into our email-client.
    
    \item \textit{Not functional - }\textbf{Blacklisting email}.
    
    \item \textit{Limited functionality - }\textbf{Login to multiple emails at the same time: } The function is limited in the sense that you can only login to multiple emails if you use different browsers. This is because we use Django and we have build the client as a web-client, so if you go to the website on a browser where you're already logged in, it will automatically log you in aswell in that respective tab.
    
    
    \item \textit{Fully functional - }\textbf{Delete email: } The user can delete any mail and multiple mails at a time.
    
    
    \item \textit{Limited functionality - }\textbf{Mark as read/unread:} The function is limited in the sense that you can only mark emails by logging in with an admin account, AND by accessing the admin panel. The emails will not be shown as marked with bolt text because the function is not implemented in the view, but it can be accessed using the admin panel. (http://127.0.0.0.1:8000/admin).
    
    \item \textit{Fully functional - }\textbf{Attach files \& pictures}.
    
    
    \item \textit{Fully functional - }\textbf{Compose email}. 
    
\end{enumerate}
\newpage

\section*{Software process discussion}\index[Alphabetical]{Software process discussion}
As stated in the systems-requirement report, we chose to primarily use an agile based approach with a bit of plan-driven approach as well in order to develop the mail client. This section will come into details of our approach. \\
Pros \& cons for agile:
\begin{itemize}
    \item \textbf{Pros: } 
    \begin{enumerate}
         \item When faced with different types of deviations, the fact that we were highly inspired by the agile work process, allowed us to be more flexible in terms of re-planning and restructuring our time-plan (which was one of the only parts of our approach that was plan-driven)
        \item The implementation of the agile process allowed for the company-engineers to have regularly scheduled meetings with the client, prepared and flexible enough to change fundamental structures and requirements of the product, in compliance with the client's requests.
        \item The agile process has also helped to tackle unpredicted and unexpected requirements as well as unseen nonfunctional requirements. "Expect the unexpected". 
        \item Facing problems during the integration phase, the agile process helped in restructuring the plan. For example with the front-end, we started and planned the front-end of Banana Client using Vue as the framework for Javascript. When integrating with the working Django middle- and back-end we got errors upon errors. However, because of the heavy focus on the agile process, it allowed us to change the framework tool swiftly, in order to rebuild without a massive time delay and get a working full-stack product.   
    \end{enumerate}
    \item \textbf{Cons: } 
    \begin{enumerate}
        \item The focus on agile allowed for a lot of freedom and flexibility, which at times could spill over into becoming a disadvantage, due to the lack of structure and a concrete "blueprint" (which could be the advantage of taking inspiration from the waterfall model), to help navigate in getting from A to B, where A is the planning and B is the execution and finalization of a working product.
    \end{enumerate}
\end{itemize}
Pros \& cons for plan-driven:
\begin{itemize}
    \item \textbf{Pros: }The plan-driven process helped us early on in the process of planning the steps to complete our product. 
    \item \textbf{Cons: }No real cons since we used the plan-driven process in a very limited manner. 
\end{itemize}

\newpage

\section*{Software reuse}\index[Alphabetical]{Software reuse}

With the usage of a framework, we have been able to implement different software artefacts from the Django framework, such as classes, objects, and functions, which has provided us with an architecture that has made the structuring and creation of applications alot more streamline and easy to use. 
\begin{itemize}

    
    \item \textbf{Front-end:} For front-end we have re-used the "sidebar" component from "Bootstrap4" changing the layout and theme, the original sidebar can be found \href{https://bootstrapious.com/tutorial/sidebar/index4.html#}{\underline{here.}} \footnote{https://bootstrapious.com/tutorial/sidebar/index4.html#}
    \item \textbf{Middleware: } 
    \begin{enumerate}
        \item For middleware we have reused a lot of Django's own classes such as EmailMessage, which is used to send email. The structure of the function send\_email where EmailMessage is used has been created by ourselves.
        \item The calendar that we have created is heavily inspired by Hui Wen. Much of the functionality is reused, but some of it is restructured so it fits our client. Hui Wen's calendar can be found \href{https://github.com/huiwenhw/django-calendar}{\underline{here.}}\footnote{https://github.com/huiwenhw/django-calendar} 
        \item The blacklist which we would have created would have been a complete reuse of Zeioths' blacklisting. It can be found \href{https://github.com/Zeioth/django-email-blacklist}{\underline{here.}} \footnote{https://github.com/Zeioth/django-email-blacklist}
        \item For testing the middleware, we have used Django own testing functions, with some minor changes to fit our own sending method. The inspiration used to create the test case can be found \href{https://timonweb.com/django/testing-emails-in-django/}{\underline{here.}} \footnote{https://timonweb.com/django/testing-emails-in-django/}
        \end{enumerate}
    \item \textbf{Back-end: } 
    \begin{enumerate}
        \item For backend, the Django framework has helped with standard creation and maintenance of the database, sqlite3, and the automatic encryption of the data. 
        \item Functionalities concerning and regarding signing up, resetting password, has in a high degree been reused and taken inspiration from the following, which also has heavily been reused from the standard Django framework, where some structural changes and different attributes have been changed, but the core functionality remains. It can be found
        \href{https://developers.decoded.africa/index.php/2021/05/10/using-gmail-as-an-email-client-for-your-django-web-app/}{\underline{here.}}.\footnote{https://developers.decoded.africa/index.php/2021/05/10/using-gmail-as-an-email-client-for-your-django-web-app/}
        \item For testing the backend, the primary functionalities have been reused, just with some minor changes to fit in with our different credentials, and keywords, but the mail functionality of standard testing is similar. It can be found
        \href{https://developers.decoded.africa/index.php/2021/05/10/using-gmail-as-an-email-client-for-your-django-web-app/}{\underline{here}}\footnote{https://developers.decoded.africa/index.php/2021/05/10/using-gmail-as-an-email-client-for-your-django-web-app/}
        \href{https://mkdev.me/en/posts/how-to-cover-django-application-with-unit-tests}{and \underline{here}}.
        \footnote{https://mkdev.me/en/posts/how-to-cover-django-application-with-unit-tests}
    \end{enumerate}
\end{itemize}

\section*{Testing}\index[Alphabetical]{Testing}

\begin{itemize}
    \item \textbf{White-Box testing:}
    
    As a quick recap, whitebox testing is the process of testing with the knowledge of the internal structure of the components, hence the explicit details are taken into consideration. The unit tests specified in the test plan have been tested primarily using white box testing which can be found in the code.(file: tests.py, test3.py)
    \item \textbf{Black-Box testing:}
    
    As a quick recap, we know that black-box testing is the process of testing without knowledge or looking at the internals of the code. For all of our black-box testing, we have implemented Django's standard self-testing functionalities, which has, as mentioned above, been a way for us to test the functionalities without going into the details, or looking at the internals. Black-box testing has widely been used in the backend, because the standard Django functions which have been mentioned before also have their own tests. We also use a Django function such as is\_valid(), which is Django's own way of testing if fields contain the correct data. This function is used quite abundantly throughout the testing of the middleware and backend.
    
    \item \textbf{Deviations from tests:}
    The following unit tests were not tested. More detail on this, see section \hyperref[sec:deviations]{"Other Deviations"}.
    \begin{enumerate}
        \item TU 1.1.1 Forward
        \item TU 1.1.2 Reply
        \item TU 1.4 Blacklist
        \item We were also not able to do BVA's
        \item TU 1.5.3 Forgot password
    \end{enumerate}
\end{itemize}

\newpage

\section*{Other deviations}\index[Alphabetical]{Appendices}

\label{sec:deviations}
As explained previously in the other sections, the ideal final product was not fully achieved, due to deviations throughout the semester, which is what will be discussed in this section.
\subsection*{Deviations in time}\index[Alphabetical]{Deviations in time}
\begin{itemize}
    \item \textbf{Sickness:}
        \begin{itemize}
            \item Due to sickness, we were unfortunately not able to meet up as a whole group, which resulted in us being behind schedule and not being able to discuss certain topics, such as role division. Sickness primarily had an impact in the early stages of the project, and set us back approximately 2 weeks.
        \end{itemize}
    \item \textbf{Lack of attendance at company meetings:}
    \begin{itemize}
        \item Due to lack of attendance at the company meetings, we missed 
        quite alot of essential input and thoughts from a certain member, and all members were not informed of all relevant information, both regarding internal agreements and also common agreements made with the customer. This resulted in a crucial blow to the company, such as deadlines not being held, and a complete lack of communication between a certain member and the rest of the company. 
    \end{itemize}
    
    \item  \textbf{Delayed functionalities:}
    \begin{itemize}
        \item The previous two deviations is the cause of the following deviation. First, due to the latency and delay of some functionalities from a certain member, other members were not able to fulfill their own core assignments such as creating a blacklist. Hence the inefficiency and failure to deliver from one colleague, had a negative spillover effect on the rest of the company. As a company we were not able to fulfill all requirements agreed upon with the customer, which also resulted in the handing in of two separate products, because, as mentioned, so many functionalities were not made functional until past the agreed upon deadlines.
    \end{itemize}
    \item \textbf{External clients (other courses):}
\begin{itemize}
    \item Other courses had an impact on our project, with their content and assignments causing a slight deviation in time. 
\end{itemize}
\end{itemize}

\begin{comment}
 - Sickness
 - Lack of attendance at company meetings
 - Delayed functionalities 
 - External clients (other courses)
\end{comment}
\newpage
\subsection*{Deviations from process}\index[Alphabetical]{Deviations from process}
In general, the company worked in the manner that was stated in the earlier reports, in terms of which processes were used in the creation and development of the product. With the agile development process being the main focus, this was seen clearly with regular scheduled meetings and new fixes, making the development phase of the product quite flexible. There was also the plan-driven development process as well, which can be seen in regards to arranging and structuring the work-plan of the project. 
\newline
However, the company does not recall any substantial deviation from the processes, hence no noteworthy comments for this section.
\subsection*{Reasons and performed actions}\index[Alphabetical]{Reasons and performed actions}

Throughout the various deviations, the company needed some serious company meetings, to discuss and reach a consensus regarding how to properly communicate as colleagues, and how to fully function as a team, professionally. 
\newline
On top of this, another way the company dealt with deviations was through the summoning of other engineers onto areas that needed extra attention and help, hence the work distribution (see below) has a subsection indicating which engineers helped on what other areas outside their core.
\newpage

\section*{Project and team topics}\index[Alphabetical]{Project and team topics}

\subsection*{Work distribution}
\begin{itemize}
    \item \textbf{Artin:}
    \begin{enumerate}
        \item \textbf{Main:} Middleware: (Send mail, calendar, blacklist(not functional)), Main Integrator, documentation(all reports both original and corrected), all test cases both middleware and backend, Customer service(standup mettings and private meetings), models and forms regarding my middelware, Project structure.
        \item \textbf{Assisted:} Front-end(send mail, base, calendar), back-end(all)
    \end{enumerate}
    \item \textbf{Karsten:}
    \begin{enumerate}
        \item \textbf{Main:} Frontend: (All except inbox, sent\_mail), customer service (private meetings), logo, documentation(all reports both original and corrected), 
        \item \textbf{Assisted:} Middleware(send mail)
    \end{enumerate}
    \item \textbf{Nikita:}
    \begin{enumerate}
        \item \textbf{Main:} Middleware: (Django Admin configuration, Sent(folder), Inbox and delete mail, including front end for these. get new mail(back end that loads new mail when page is refreshed),
        reply(not functional), read/unread(not functional), imap, server.json, User account, mailbox and message models and database integration,), Integrator of second client, all test cases (second client) for mailbox, both front, middleware and backend.
        \item \textbf{Assisted:} 
    \end{enumerate}
    \item \textbf{Phillip:}
    \begin{enumerate}
        \item \textbf{Main:} Back end - all(Signup, Login, Logout, Forgot/Reset Password, all related to database, encryption of database, etc), Documentation(all reports, both original and corrected), all test cases both middleware and backend, Customer service (standup meetings and private meetings), Human Resources, creation of models, forms, etc regarding account and user, and all user-related. Project structure.
        \item \textbf{Assisted:} Middle-ware(all)
    \end{enumerate}
\end{itemize}

\printindex[Alphabetical]
\printindex[Functions]

\end{document}

